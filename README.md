# Visual DJ Analysis Studio ðŸŽµ

Die Vision: Das Visual DJ Analysis Studio
Unser Ziel ist es nicht, Musik zu verwalten. Unser Ziel ist es, Musik sichtbar zu machen.
FÃ¼r DJs und Musikproduzenten ist eine Musikbibliothek mehr als nur eine Sammlung von Dateien. Sie ist eine Palette von Emotionen, Energien und Texturen. Doch bisher waren wir gezwungen, diese Palette im Dunkeln zu durchsuchen, uns auf unser GedÃ¤chtnis und simple Zahlen wie BPM und Tonart zu verlassen. Das Visual DJ Analysis Studio beendet dieses Ratespiel.
Wir verwandeln abstrakte Daten in eine visuelle, intuitive Landkarte deiner Musik.
Stell dir vor, du kÃ¶nntest den Herzschlag eines Tracks auf einen Blick erfassen. Unsere fortschrittliche Analyse-Engine, die auf einem soliden Fundament aus bewÃ¤hrter Audio-Technologie wie Librosa aufbaut, schaut tiefer als jedes andere Tool. Sie extrahiert nicht nur die grundlegenden Metadaten, sondern malt ein detailliertes Bild von jedem einzelnen Song:
Die Energie-Kurve: Wir zeigen dir den dynamischen Verlauf eines Tracks als visuellen Graphen. Du siehst sofort, wo das Intro aufbaut, wo der Drop einschlÃ¤gt und wo das Outro ausklingt. Kein blindes VorhÃ¶ren mehr â€“ du siehst die Struktur.
Die Klangfarbe: Von warmen, dunklen BÃ¤ssen bis zu kristallklaren Hi-Hats â€“ unsere Analyse visualisiert die "Helligkeit" und Textur deiner Tracks und gibt dir eine neue Ebene der klanglichen Organisation.
Die Emotion: Basierend auf diesen tiefen Einblicken weisen wir deinen Tracks nachvollziehbare, regelbasierte Stimmungs-Tags zu â€“ von "treibend" und "euphorisch" bis hin zu "dÃ¼ster" und "melancholisch".
Der "Creator Studio": Dein Pult fÃ¼r das perfekte Set
Das HerzstÃ¼ck unserer Vision ist der Creator Studio. Hier wird die Analyse zur Kunst. Anstatt Playlists mÃ¼hsam zusammenzusuchen, malst du dein Set:
Du zeichnest auf einer leeren Leinwand den gewÃ¼nschten Energieverlauf deines Abends. Ein langsamer Aufbau? Ein explosiver Peak zur Primetime, gefolgt von einem sanftem Ausklang? Du definierst die Reise.
Unsere intelligente Playlist-Engine wird zu deinem persÃ¶nlichen Musik-Kurator. Sie durchsucht deine visuell aufbereitete Bibliothek und findet genau die Tracks, deren eigener "Herzschlag" perfekt zu dem von dir gezeichneten Spannungsbogen passt. Sie respektiert dabei die Regeln des harmonischen Mixens und sorgt fÃ¼r nahtlose BPM-ÃœbergÃ¤nge.
Das Ergebnis ist keine zufÃ¤llige Liste von Songs. Es ist ein maÃŸgeschneidertes, dramaturgisch perfektes DJ-Set, das deine kreative Vision widerspiegelt â€“ generiert in Minuten, nicht in Stunden.
ZuverlÃ¤ssigkeit und Kontrolle im Kern
Wir wissen, dass KreativitÃ¤t ein stabiles Fundament braucht. Deshalb ist unser System von Grund auf auf ZuverlÃ¤ssigkeit ausgelegt. Die Analyseergebnisse sind konsistent und reproduzierbar. Du hast die volle Kontrolle Ã¼ber die Parameter und kannst dich darauf verlassen, dass die Daten, mit denen du arbeitest, korrekt sind. Die Bibliothek, die du einmal aufbaust, wird zu deinem verlÃ¤sslichsten Werkzeug.
Das Visual DJ Analysis Studio ist mehr als ein Tool. Es ist ein neues Paradigma fÃ¼r die Musikorganisation. Es gibt dir die Superkraft, deine Musik nicht nur zu hÃ¶ren, sondern sie zu sehen, zu verstehen und auf eine vÃ¶llig neue Art und Weise zu gestalten.

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![React](https://img.shields.io/badge/React-18+-61DAFB.svg)](https://reactjs.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-Latest-009688.svg)](https://fastapi.tiangolo.com)
[![TypeScript](https://img.shields.io/badge/TypeScript-4.9+-3178C6.svg)](https://typescriptlang.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## ðŸš€ Features

### ðŸŽµ Musik sichtbar machen: Tiefgehende Audio-Analyse

Unsere fortschrittliche Analyse-Engine, basierend auf bewÃ¤hrter Audio-Technologie wie Librosa (und optional Essentia), extrahiert nicht nur grundlegende Metadaten, sondern malt ein detailliertes Bild von jedem einzelnen Song:

-   **Energie-Kurve**: Visualisierung des dynamischen Verlaufs eines Tracks als Graph. Erfasse auf einen Blick, wo das Intro aufbaut, der Drop einschlÃ¤gt und das Outro ausklingt.
-   **Klangfarbe (Timbre)**: Analyse und Visualisierung der "Helligkeit" und Textur deiner Tracks, von warmen BÃ¤ssen bis zu kristallklaren Hi-Hats.
-   **Emotion & Stimmung**: Regelbasierte Stimmungs-Tags (z.B. "treibend", "euphorisch", "dÃ¼ster", "melancholisch") basierend auf tiefen Einblicken in die Audio-Eigenschaften.
-   **BPM-Erkennung**: PrÃ¤zise Tempo-Analyse.
-   **Key-Detection**: Automatische Tonart-Erkennung und Camelot Wheel Mapping.
-   **Batch-Processing**: Parallele Verarbeitung groÃŸer Musikbibliotheken fÃ¼r schnelle Ergebnisse.

### ðŸŽ¨ Creator Studio: Dein Pult fÃ¼r das perfekte Set

Das HerzstÃ¼ck unserer Vision. Hier wird die Analyse zur Kunst. Anstatt Playlists mÃ¼hsam zusammenzusuchen, malst du dein Set:

-   **Intuitives Energie-Design**: Zeichne auf einer leeren Leinwand den gewÃ¼nschten Energieverlauf deines Abends. Definiere die dramaturgische Reise deines Sets.
-   **Intelligente Playlist-Engine**: Unser persÃ¶nlicher Musik-Kurator durchsucht deine visuell aufbereitete Bibliothek und findet Tracks, deren "Herzschlag" perfekt zu deinem gezeichneten Spannungsbogen passt.
-   **Harmonisches Mixing**: BerÃ¼cksichtigung von Camelot Wheel-basierten ÃœbergÃ¤ngen fÃ¼r nahtlose Mixe.
-   **BPM Transition**: Sanfte Tempo-ÃœbergÃ¤nge fÃ¼r einen flieÃŸenden Mix.
-   **Mood Progression**: Stimmungs-kohÃ¤rente Abfolgen fÃ¼r eine emotionale Reise.
-   **Custom Presets**: Benutzerdefinierte Sortier- und Auswahl-Algorithmen fÃ¼r maximale Kontrolle.

### ðŸ“Š Professional Features & ZuverlÃ¤ssigkeit

-   **Real-time Updates**: WebSocket-basierte Live-Ãœberwachung des Analysefortschritts.
-   **Export-Funktionen**: Playlists als M3U, JSON, CSV, Rekordbox-kompatibel.
-   **Advanced Caching**: Multi-Level Cache fÃ¼r optimale Performance und schnelle wiederholte Analysen.
-   **Responsive UI**: Modernes React-Interface fÃ¼r eine intuitive Benutzererfahrung auf allen GerÃ¤ten.
-   **API-First**: Robuste RESTful API mit automatischer Dokumentation fÃ¼r einfache Integrationen.
-   **Konsistente Analyse**: Analyseergebnisse sind konsistent und reproduzierbar, fÃ¼r volle Kontrolle und VerlÃ¤sslichkeit.

## ðŸ—ï¸ Architektur

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Frontendâ”‚â—„â”€â”€â–ºâ”‚   FastAPI       â”‚â—„â”€â”€â–ºâ”‚   Core Engine   â”‚
â”‚   - Dashboard   â”‚    â”‚   - REST API    â”‚    â”‚   - Audio       â”‚
â”‚   - Library     â”‚    â”‚   - WebSocket   â”‚    â”‚   - Playlist    â”‚
â”‚   - Creator     â”‚    â”‚   - Validation  â”‚    â”‚   - Mood        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚  Data Managementâ”‚
                       â”‚  - SQLite DB    â”‚
                       â”‚  - Cache System â”‚
                       â”‚  - File Manager â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ› ï¸ Installation

### Systemanforderungen
- **Python**: 3.8 oder hÃ¶her
- **Node.js**: 16.0 oder hÃ¶her
- **RAM**: Mindestens 4GB (8GB empfohlen)
- **Speicher**: 2GB fÃ¼r Cache und Datenbank

### Installation

1. **Repository klonen**
   ```bash
   git clone [repository-url]
   cd Audio_Analyse_tool
   ```

2. **Entwicklungsumgebung starten (Windows)**
   ```bash
   start-dev.bat
   ```

3. **Entwicklungsumgebung starten (Linux/Mac)**
   ```bash
   chmod +x start-dev.sh
   ./start-dev.sh
   ```

4. **Manueller Start** (falls gewÃ¼nscht)
   ```bash
   # Root-AbhÃ¤ngigkeiten installieren
   npm install
   
   # Frontend-AbhÃ¤ngigkeiten installieren
   cd src && npm install && cd ..
   
   # Backend-AbhÃ¤ngigkeiten installieren
   pip install -r requirements.txt
   
   # Services starten
   npm run monorepo:dev
   ```

## ðŸ“ Projektstruktur

```
Audio_Analyse_tool/
â”œâ”€â”€ backend/                    # Python Backend
â”‚   â”œâ”€â”€ main.py                # FastAPI Hauptanwendung
â”‚   â”œâ”€â”€ api/                   # API Layer
â”‚   â”‚   â”œâ”€â”€ endpoints/         # REST Endpoints
â”‚   â”‚   â””â”€â”€ models.py          # Pydantic Models
â”‚   â”œâ”€â”€ core_engine/           # Business Logic
â”‚   â”‚   â”œâ”€â”€ audio_analysis/    # Audio-Analyse Engine
â”‚   â”‚   â”œâ”€â”€ playlist_engine/   # Playlist-Generierung
â”‚   â”‚   â”œâ”€â”€ mood_classifier/   # Stimmungsklassifikation
â”‚   â”‚   â”œâ”€â”€ data_management/   # Datenmanagement
â”‚   â”‚   â””â”€â”€ export/            # Export-Funktionen
â”‚   â””â”€â”€ config/                # Konfiguration
â”œâ”€â”€ src/                       # React Frontend
â”‚   â”œâ”€â”€ components/            # UI Komponenten
â”‚   â”œâ”€â”€ pages/                 # Hauptseiten
â”‚   â”œâ”€â”€ hooks/                 # Custom React Hooks
â”‚   â”œâ”€â”€ types/                 # TypeScript Definitionen
â”‚   â””â”€â”€ utils/                 # Hilfsfunktionen
â”œâ”€â”€ data/                      # Daten & Cache
â”œâ”€â”€ config/                    # Globale Konfiguration
â”œâ”€â”€ tests/                     # Test Suite
â”œâ”€â”€ SYSTEM_DOKUMENTATION.md   # VollstÃ¤ndige Systemdokumentation
â”œâ”€â”€ ARCHITEKTUR_OVERVIEW.md    # Technische Architektur
â””â”€â”€ README.md                  # Diese Datei
```

## ðŸŒ Zugriff

- **Frontend**: http://localhost:3000
- **Backend**: http://localhost:8000
- **API-Dokumentation**: http://localhost:8000/docs

## ðŸ”§ Konfiguration

### Umgebungsvariablen

Kopiere `.env.example` zu `.env` und passe die Werte an:

```bash
cp .env.example .env
```

Wichtige Einstellungen:
- `DEBUG=true` - Debug-Modus aktivieren
- `PORT=8000` - Backend-Port
- `REACT_APP_API_URL=http://localhost:8000` - API-URL fÃ¼r Frontend
- `MAX_FILE_SIZE_MB=500` - Maximale DateigrÃ¶ÃŸe fÃ¼r Uploads

### Essentia Audioanalyse

> âš ï¸ **Wichtig**: Essentia kann unter Windows schwer zu installieren sein.

**Option 1: Librosa Fallback (Standard)**
- Keine zusÃ¤tzliche Installation erforderlich
- Verwendet Librosa als Fallback
- Funktioniert sofort nach Setup

**Option 2: Essentia installieren (optional)**
```bash
# Versuch 1: Standard-Installation
pip install essentia

# Versuch 2: TensorFlow-Variante
pip install essentia-tensorflow

# Versuch 3: Kompilieren aus Quellcode
# Siehe: https://essentia.upf.edu/installing.html
```

**Essentia aktivieren:**
In `.env` setzen:
```
ESSENTIA_ENABLED=true
```

## ðŸ§ª Tests

### Alle Tests ausfÃ¼hren
```bash
# Backend-Tests
pytest tests/ -v

# Frontend-Tests
cd src && npm test

# Integration-Tests
npm run test:integration
```

### Test-Setup prÃ¼fen
```bash
# Grundlegende Setup-Validierung
python tests/unit/test_basic_setup.py
```

## ðŸ› ï¸ VerfÃ¼gbare Skripte

| Skript | Beschreibung |
|--------|--------------|
| `npm run monorepo:dev` | Startet Backend und Frontend |
| `npm run start:backend` | Startet nur das Backend |
| `npm run start:frontend` | Startet nur das Frontend |
| `npm run build` | Build fÃ¼r beide Services |
| `npm run test` | FÃ¼hrt alle Tests aus |
| `npm run lint` | Code-QualitÃ¤t prÃ¼fen |
| `npm run clean` | TemporÃ¤re Dateien lÃ¶schen |

## ðŸ› Bekannte Probleme & LÃ¶sungen

### 1. Essentia-Installation fehlschlÃ¤gt
- **Problem**: `pip install essentia` schlÃ¤gt fehl
- **LÃ¶sung**: Verwende Librosa-Fallback (funktioniert automatisch)
- **Alternative**: Siehe Essentia-Dokumentation fÃ¼r manuelle Installation

### 2. Ports bereits belegt
- **Problem**: Port 8000 oder 3000 bereits in Verwendung
- **LÃ¶sung**: Ports in `.env` Ã¤ndern
  ```
  PORT=8001
  PORT=3001
  ```

### 3. ImportError: No module named 'backend'
- **Problem**: Python-Pfad nicht korrekt
- **LÃ¶sung**: Im Root-Verzeichnis ausfÃ¼hren, PYTHONPATH ist korrekt konfiguriert

### 4. Frontend startet nicht
- **Problem**: `npm run monorepo:dev` fehlschlÃ¤gt
- **LÃ¶sung**: 
  1. `npm install` im Root-Verzeichnis
  2. `npm install` im `src/` Verzeichnis
  3. Erneut versuchen

## ðŸ“– Dokumentation

- **[ðŸ“‹ Systemdokumentation](SYSTEM_DOKUMENTATION.md)** - VollstÃ¤ndige Dokumentation aller Komponenten
- **[ðŸ—ï¸ Architektur-Overview](ARCHITEKTUR_OVERVIEW.md)** - Technische Architektur und Design-Patterns
- **[ðŸ”§ API-Dokumentation](http://localhost:8000/docs)** - Interaktive API-Docs (nach Start)
- **[ðŸ§ª Testing-Guide](tests/README.md)** - Test-Strategien und -AusfÃ¼hrung

## ðŸŽ¯ Verwendung

### 1. Audio-Analyse starten

```python
# Via API
POST /api/analysis/start
{
    "scan_paths": ["/path/to/music"],
    "file_formats": [".mp3", ".wav", ".flac"],
    "enable_multiprocessing": true
}
```

### 2. Playlist generieren

```python
# Via API
POST /api/playlists/generate
{
    "preset_name": "DJ Set - Harmonic Flow",
    "target_length_minutes": 60,
    "seed_tracks": ["track1.mp3"],
    "rules": {
        "bpm_tolerance": 5,
        "key_compatibility": true,
        "energy_flow": "build"
    }
}
```

### 3. Frontend-Integration

```typescript
// React Hook fÃ¼r Track-Daten
const { data: tracks, isLoading } = useTracksQuery({
    bpm_min: 120,
    bpm_max: 130,
    mood: 'euphoric',
    sort_by: 'energy'
});

// Playlist-Generierung
const generatePlaylist = useMutation({
    mutationFn: (params) => playlistAPI.generate(params),
    onSuccess: (playlist) => {
        console.log('Playlist erstellt:', playlist.name);
    }
});
```

## ðŸ“Š Performance

### Benchmark-Ergebnisse

| Metrik | Wert | Beschreibung |
|--------|------|-------------|
| **Analyse-Geschwindigkeit** | ~2-5 Tracks/Sekunde | AbhÃ¤ngig von CPU und DateigrÃ¶ÃŸe |
| **Cache-Hit-Rate** | >90% | Bei wiederholten Analysen |
| **Memory-Usage** | <500MB | Pro Worker-Prozess |
| **Playlist-Generierung** | <2 Sekunden | FÃ¼r 100 Tracks |
| **API-Response-Time** | <100ms | FÃ¼r Standard-Queries |

### UnterstÃ¼tzte Audio-Formate
- **Standard**: MP3, WAV, FLAC, AAC, OGG, M4A
- **Erweitert**: AIFF, AU, WMA, MP4, 3GP, AMR, OPUS, WebM, MKV

## ðŸŽ¯ Entwicklung

### Code-Style
- **Backend**: PEP 8 (Python)
- **Frontend**: ESLint + Prettier (JavaScript/React)

### Debugging
- **Backend**: `DEBUG=true` in `.env`
- **Frontend**: Browser DevTools
- **Logs**: `./data/logs/` Verzeichnis

## ðŸ“„ Lizenz

MIT License - siehe [LICENSE](LICENSE) Datei.

## ðŸ¤ Beitrag

1. Fork erstellen
2. Feature-Branch erstellen (`git checkout -b feature/AmazingFeature`)
3. Commits erstellen (`git commit -m 'Add some AmazingFeature'`)
4. Push (`git push origin feature/AmazingFeature`)
5. Pull Request erstellen

## ðŸ“ž Support

Bei Problemen:
1. PrÃ¼fe die [bekannten Probleme](#-bekannte-probleme--lÃ¶sungen)
2. Starte mit `start-dev.bat` (Windows) oder `start-dev.sh` (Linux/Mac)
3. PrÃ¼fe die Logs im Terminal
4. Erstelle ein Issue mit System-Informationen
